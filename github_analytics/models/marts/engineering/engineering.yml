version: 2

models:
  - name: dim_repository
    description: "List of repositories."

  - name: dim_contributor
    description: "List of contributors across issues, PRs, and commits."

  - name: fct_issue_throughput
    description: "Issue-level fact table for throughput and lifecycle analysis."
    columns:
      - name: issue_id
        tests:
          - not_null
          - unique

  - name: fct_pr_cycle_time
    description: >
      Fact table with one row per pull request, capturing
      PR cycle time and commit volume. Materialized incrementally
      after an initial historical backfill.
    columns:
      - name: pr_id
        description: Primary key for the pull request.
        tests:
          - not_null
          - unique
      - name: cycle_time_days
        description: Number of days between PR creation and merge.
      - name: commit_count
        description: Number of commits associated with the PR.
